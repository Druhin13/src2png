<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd"><svg xmlns="http://www.w3.org/2000/svg" width="973" height="432" xmlns:xlink="http://www.w3.org/1999/xlink"><source><![CDATA[Note left of Node.js: For each input file:
Node.js -> Poi: Copy input file
Note right of Poi: Dev server hot update, \nregenerate page content
Puppeteer -> Poi: Request: page content
Poi -> Puppeteer: Response: highlighted code
Note right of Puppeteer: Render screenshot\n and save PNG
]]></source><desc></desc><defs><marker viewBox="0 0 5 5" markerWidth="5" markerHeight="5" orient="auto" refX="5" refY="2.5" id="markerArrowBlock"><path d="M 0 0 L 5 2.5 L 0 5 z"></path></marker><marker viewBox="0 0 9.6 16" markerWidth="4" markerHeight="16" orient="auto" refX="9.6" refY="8" id="markerArrowOpen"><path d="M 9.6,8 1.92,16 0,13.7 5.76,8 0,2.286 1.92,0 9.6,8 z"></path></marker></defs><g class="title"></g><g class="actor"><rect x="198.4296875" y="20" width="87.203125" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="208.4296875" y="44.5" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="208.4296875">Node.js</tspan></text></g><g class="actor"><rect x="198.4296875" y="374.375" width="87.203125" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="208.4296875" y="398.875" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="208.4296875">Node.js</tspan></text></g><line x1="242.03125" x2="242.03125" y1="58" y2="374.375" stroke="#000000" fill="none" style="stroke-width: 2;"></line><g class="actor"><rect x="381.6484375" y="20" width="48.796875" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="391.6484375" y="44.5" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="391.6484375">Poi</tspan></text></g><g class="actor"><rect x="381.6484375" y="374.375" width="48.796875" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="391.6484375" y="398.875" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="391.6484375">Poi</tspan></text></g><line x1="406.046875" x2="406.046875" y1="58" y2="374.375" stroke="#000000" fill="none" style="stroke-width: 2;"></line><g class="actor"><rect x="623.671875" y="20" width="106.40625" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="633.671875" y="44.5" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="633.671875">Puppeteer</tspan></text></g><g class="actor"><rect x="623.671875" y="374.375" width="106.40625" height="38" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="633.671875" y="398.875" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="633.671875">Puppeteer</tspan></text></g><line x1="676.875" x2="676.875" y1="58" y2="374.375" stroke="#000000" fill="none" style="stroke-width: 2;"></line><g class="note"><rect x="20" y="78" width="202.03125" height="28" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="25" y="97.5" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="25">For each input file:</tspan></text></g><g class="signal"><text x="252.03125" y="136.5" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="252.03125">Copy input file</tspan></text><line x1="242.03125" x2="406.046875" y1="144" y2="144" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="note"><rect x="426.046875" y="164" width="230.828125" height="47.1875" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="431.046875" y="183.5" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="431.046875">Dev server hot update,</tspan><tspan dy="1.2em" x="431.046875">regenerate page content</tspan></text></g><g class="signal"><text x="440.6484375" y="241.6875" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="440.6484375">Request: page content</tspan></text><line x1="676.875" x2="406.046875" y1="249.1875" y2="249.1875" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="signal"><text x="416.640625" y="279.6875" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="416.640625">Response: highlighted code</tspan></text><line x1="406.046875" x2="676.875" y1="287.1875" y2="287.1875" stroke="#000000" fill="none" style="stroke-width: 2; marker-end: url(&quot;#markerArrowBlock&quot;);"></line></g><g class="note"><rect x="696.875" y="307.1875" width="173.21875" height="47.1875" stroke="#000000" fill="#ffffff" style="stroke-width: 2;"></rect><text x="701.875" y="326.6875" style="font-size: 16px; font-family: &quot;Andale Mono&quot;, monospace;"><tspan x="701.875">Render screenshot</tspan><tspan dy="1.2em" x="701.875">and save PNG</tspan></text></g></svg>